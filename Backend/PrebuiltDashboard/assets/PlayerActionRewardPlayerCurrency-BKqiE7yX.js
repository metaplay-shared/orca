import{d as v,E as _,h as i,a as b,m as h,f as e,o as C,j as o,w as u,q as S,k as n,_ as A,t as G,bs as N,bt as P}from"./index-DAyiym1a.js";import{a as V}from"./players-CkgXyjra.js";import{_ as m}from"./MInputNumber.vue_vue_type_script_setup_true_lang-qrqxgTEu.js";import{_ as $}from"./MActionModalButton.vue_vue_type_script_setup_true_lang-CRnsCPt_.js";import"./index-Byt7eTSs.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-B7AbTbVm.js";import"./MActionModal.vue_vue_type_script_setup_true_lang-XDUxofmt.js";import"./index-CVSO09yM.js";const k={key:0},M=v({__name:"PlayerActionRewardPlayerCurrency",props:{playerId:{}},setup(p){const{showSuccessNotification:c}=P(),d=p,y=N(),{data:r,refresh:f}=_(()=>V(d.playerId)),t=i(0),l=i(0);function g(){t.value=0,l.value=0}async function w(){await y.post(`/players/${d.playerId}/rewardCurrency`,{newGold:t.value,newGems:l.value}),c("Currency rewarded."),f()}return(x,a)=>e(r)?(C(),b("div",k,[o(e($),{"modal-title":"Add Currency",action:w,"trigger-button-label":"Add Currency","trigger-button-full-width":"",variant:"primary","ok-button-label":"Add",permission:"api.players.reward_currency",onShow:g,"data-testid":"action-reward-currency"},{default:u(()=>[S("p",null,[a[2]||(a[2]=n("You can add gold and gems to ",-1)),o(e(A),null,{default:u(()=>[n(G(e(r).model.playerName),1)],void 0,!0),_:1}),a[3]||(a[3]=n(". Adding currency occurs silently and instantaneously.",-1))]),o(e(m),{label:"Gold","model-value":t.value,min:0,"hint-message":`Player currently has ${e(r).model.wallet.gold.earned+e(r).model.wallet.gold.purchased} gold.`,"onUpdate:modelValue":a[0]||(a[0]=s=>t.value=s)},null,8,["model-value","hint-message"]),o(e(m),{label:"Gems","model-value":l.value,min:0,"hint-message":`Player currently has ${e(r).model.wallet.gems.earned+e(r).model.wallet.gems.purchased} gems.`,"onUpdate:modelValue":a[1]||(a[1]=s=>l.value=s)},null,8,["model-value","hint-message"])]),_:1})])):h("",!0)}});export{M as default};
