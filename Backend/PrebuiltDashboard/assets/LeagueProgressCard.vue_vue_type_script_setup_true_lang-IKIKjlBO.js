import{d as w,E as O,c as N,z as l,r as f,a as i,m as y,f as e,o as d,j as a,q as r,w as n,k as o,_ as u,t as h,e3 as I,e2 as P,y as m,D as c,bj as _}from"./index-DAyiym1a.js";import{g as M}from"./leagueUtils-BqF6ffxm.js";import{a as D}from"./leagues-B22oLAaC.js";import{a as p,B as k}from"./progress-Y_EDtVsD.js";const B={key:0},C={key:0,class:"tw-ml-1"},E={key:1,class:"tw-ml-1"},T={class:"tw-w-full"},V={class:"small"},L={class:"tw-w-full"},$={class:"pt-3 pr-2 pb-1 border-right border-dark text-right",style:"position: relative; right: -1px"},j={class:"small"},H=w({__name:"LeagueProgressCard",props:{leagueId:{}},setup(g){const x=g,{data:t}=O(D(x.leagueId)),v=N(()=>l.fromISO(t.value.schedule.preview).toMillis()+l.fromISO(t.value.schedule.duration).toMillis());return(z,s)=>{const S=f("b-col"),b=f("b-row");return e(t)&&e(t).state.currentSeason&&e(t).currentOrNextSeasonSchedule?(d(),i("div",B,[a(b,{class:"tw-my-4"},{default:n(()=>[a(S,{md:""},{default:n(()=>[r("span",null,[s[0]||(s[0]=o("Time mode: ",-1)),a(e(u),{class:"tw-ml-1"},{default:n(()=>[o(h(e(I)(e(t).schedule.timeMode)),1)],void 0,!0),_:1})])],void 0,!0),_:1}),a(S,{md:"auto"},{default:n(()=>[r("span",null,[s[2]||(s[2]=o("Next phase:",-1)),e(t).enabled?(d(),i("span",C,[a(e(u),{class:"tw-mr-1",variant:e(M)(e(t).currentOrNextSeasonSchedule.nextPhase.phase)},{default:n(()=>[o(h(e(P)(e(t).currentOrNextSeasonSchedule.nextPhase.phase)),1)],void 0,!0),_:1},8,["variant"]),a(e(m),{instant:e(c).fromISO(e(t).currentOrNextSeasonSchedule.nextPhase.startTime)},null,8,["instant"])])):(d(),i("span",E,[a(e(u),{variant:"danger"},{default:n(()=>s[1]||(s[1]=[o("Disabled",-1)]),void 0,!0),_:1,__:[1]})]))])],void 0,!0),_:1})],void 0,!0),_:1}),r("div",T,[r("div",{class:"pb-3 pl-2 border-left border-dark",style:_(`margin-left: ${e(l).fromISO(e(t).schedule.preview).toMillis()/v.value*100}%; position: relative; left: -1px`)},[s[3]||(s[3]=r("div",{class:"small font-weight-bold"},"Start",-1)),r("div",V,[a(e(m),{instant:e(c).fromISO(e(t).currentOrNextSeasonSchedule.start)},null,8,["instant"])])],4)]),a(e(k),{class:"font-weight-bold",max:v.value,height:"3rem",style:_(e(t).currentOrNextSeasonSchedule.currentPhase.phase==="Inactive"?"filter: contrast(50%) brightness(130%)":"")},{default:n(()=>[a(e(p),{value:e(l).fromISO(e(t).schedule.preview).toMillis(),variant:"primary",animated:e(t).enabled&&e(t).currentOrNextSeasonSchedule.currentPhase.phase==="Preview"},{default:n(()=>s[4]||(s[4]=[o("Preview",-1)]),void 0,!0),_:1,__:[4]},8,["value","animated"]),a(e(p),{value:e(l).fromISO(e(t).schedule.duration).toMillis()-e(l).fromISO(e(t).schedule.endingSoon).toMillis(),variant:"success",animated:e(t).enabled&&e(t).currentOrNextSeasonSchedule.currentPhase.phase==="Active"},{default:n(()=>s[5]||(s[5]=[o("Active",-1)]),void 0,!0),_:1,__:[5]},8,["value","animated"]),a(e(p),{value:e(l).fromISO(e(t).schedule.endingSoon).toMillis(),variant:"warning",animated:e(t).enabled&&e(t).currentOrNextSeasonSchedule.currentPhase.phase==="EndingSoon"},{default:n(()=>s[6]||(s[6]=[o("Ending Soon",-1)]),void 0,!0),_:1,__:[6]},8,["value","animated"])],void 0,!0),_:1},8,["max","style"]),r("div",L,[r("div",$,[s[7]||(s[7]=r("div",{class:"small font-weight-bold"},"End",-1)),r("div",j,[a(e(m),{instant:e(c).fromISO(e(t).currentOrNextSeasonSchedule.end)},null,8,["instant"])])])])])):y("",!0)}}});export{H as _};
