import{d as S,E as V,cc as D,c as d,r as k,e as _,o as u,w as s,j as c,f as l,s as W,v as I,q as n,a as L,m as f,k as g,t as a,x as A,Q as B,ae as E,ad as M,_ as O}from"./index-DAyiym1a.js";import F from"./MetaListCard-CjpVaEvN.js";import{M as o,a as r,b as G,c as m}from"./metaListUtils-B-xQ0HnD.js";import"./utils-DSYdgMhH.js";import"./_baseIteratee-CfhjPvCd.js";import"./isSymbol-BXvDeGRF.js";import"./identity-DKeuBCMA.js";import"./MInputText.vue_vue_type_script_setup_true_lang-B9sf9LSD.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-B7AbTbVm.js";import"./debounce-CRuraxcR.js";import"./MInputMultiSelectCheckbox.vue_vue_type_script_setup_true_lang-D6xsoOzq.js";import"./MInputCheckbox.vue_vue_type_script_setup_true_lang-CmGaUCkv.js";import"./MInputSingleSelectRadio.vue_vue_type_script_setup_true_lang-CGM7lb3s.js";import"./index-TQG-La0y.js";import"./button-group-DBs956_t.js";const P={key:0},U={class:"tw-pt-3"},j={class:"tw-px-3 tw-text-xs"},q={class:"tw-ml-4"},z={class:"tw-ml-4"},Q={class:"tw-ml-4"},R={key:0,class:"tw-pt-3"},T={class:"tw-px-3 tw-text-xs"},J=3,de=S({__name:"GameConfigValidationLogCard",props:{gameConfigId:{}},setup(y){const h=y,{data:p}=V(D(h.gameConfigId)),w=d(()=>p.value?.contents===null),b=d(()=>w.value?[]:p.value?.contents?.metaData.buildReport?.validationMessages??void 0),x=["message","sheetName","configKey","columnHint"],C=[new o("Message","message",r.Ascending),new o("Message","message",r.Descending),new o("Warning Level","messageLevel",r.Ascending),new o("Warning Level","messageLevel",r.Descending),new o("Library","sheetName",r.Ascending),new o("Library","sheetName",r.Descending),new o("Config Key","configKey",r.Ascending),new o("Config Key","configKey",r.Descending),new o("Column","columnHint",r.Ascending),new o("Column","columnHint",r.Descending),o.asUnsorted()],N=d(()=>[new G("messageLevel",[new m("Verbose",e=>e.messageLevel==="Verbose"),new m("Debug",e=>e.messageLevel==="Debug"),new m("Information",e=>e.messageLevel==="Information"),new m("Warning",e=>e.messageLevel==="Warning"),new m("Error",e=>e.messageLevel==="Error")])]);function v(e){return{Verbose:"neutral",Debug:"neutral",Information:"primary",Warning:"warning",Error:"danger"}[e]??"danger"}function K(e){return!!e&&(e.startsWith("http://")||e.startsWith("https://"))}function $(e){return e.columnHint&&e.configKey&&e.sheetName?`${e.columnHint} of ${e.configKey} in ${e.sheetName}.`:e.columnHint&&e.configKey?`${e.columnHint} of ${e.configKey}.`:e.configKey&&e.sheetName?`${e.configKey} in ${e.sheetName}.`:e.columnHint&&e.sheetName?`${e.columnHint} in ${e.sheetName}.`:e.configKey?e.configKey:e.columnHint?e.columnHint:e.sheetName?e.sheetName:""}return(e,i)=>{const H=k("fa-icon");return u(),_(l(F),{title:"Validation Log",description:"Messages generated during validation of the game config. Validation issues may label the game config as failed.",icon:"clipboard-list",itemList:b.value,searchFields:x,defaultSortOption:J,sortOptions:C,filterSets:N.value,emptyMessage:w.value?"Logs not available.":"No log entries.","data-testid":"game-config-validation-log-card"},{"item-card":s(({item:t})=>[c(l(W),{extraMListItemMargin:""},{header:s(()=>[c(l(A),{noLeftPadding:""},{"top-right":s(()=>[c(l(O),{variant:v(t.messageLevel)},{default:s(()=>[g(a(t.messageLevel),1)],void 0,!0),_:2},1032,["variant"])]),"bottom-left":s(()=>[n("div",null,a($(t)),1),t.variants.length>1?(u(),L("div",P,a(l(M)(t.variants.length,"variant",!0))+" affected.",1)):f("",!0)]),"bottom-right":s(()=>[K(t.url)?(u(),_(l(E),{key:0,to:t.url},{default:s(()=>[i[0]||(i[0]=g("View source ",-1)),c(H,{class:"tw-ml-1",icon:"external-link-alt"})],void 0,!0),_:2,__:[0]},1032,["to"])):f("",!0)]),default:s(()=>[n("span",{class:B(["tw-font-normal",{"tw-text-red-500":v(t.messageLevel)==="danger"}])},a(t.message),3)],void 0,!0),_:2},1024)]),default:s(()=>[c(l(I),{class:"tw-bg-neutral-100","show-border":""},{default:s(()=>[n("div",U,[i[3]||(i[3]=n("div",{class:"tw-ml-3 tw-font-mono tw-text-xs tw-text-neutral-500"},"// message_source",-1)),n("pre",j,[n("div",null,[i[1]||(i[1]=g("{",-1)),n("div",q,'"library:" "'+a(t.sheetName)+'"',1),n("div",z,'"configKey:" "'+a(t.configKey)+'"',1),n("div",Q,'"columnHint:" "'+a(t.columnHint)+'"',1)]),i[2]||(i[2]=n("div",null,"}",-1))])]),t.variants.length>0?(u(),L("div",R,[i[4]||(i[4]=n("div",{class:"tw-ml-3 tw-font-mono tw-text-xs tw-text-neutral-500"},"// affected_variants",-1)),n("pre",T,a(t.variants),1)])):f("",!0)],void 0,!0),_:2},1024)],void 0,!0),_:2},1024)]),_:1},8,["itemList","filterSets","emptyMessage"])}}});export{de as default};
