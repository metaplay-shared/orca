import{d as S,e as i,o as n,w as a,m as I,f as l,x as v,k as s,t as o,j as u,y as d,D as m,bs as w}from"./index-DAyiym1a.js";import{_ as C}from"./MInputSingleSelectAsyncDropdown.vue_vue_type_script_setup_true_lang-DiSHRdQ3.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-B7AbTbVm.js";import"./debounce-CRuraxcR.js";import"./isSymbol-BXvDeGRF.js";const V=S({__name:"MetaInputGuildSelect",props:{label:{},value:{}},emits:["input"],setup(N,{emit:b}){const g=b,c=w();async function y(r,e,t){const p=(await c.get(`/guilds/?query=${encodeURIComponent(r)}&count=${e}`)).data.map(f=>({label:f.displayName,value:f}));return{options:p,hasMoreData:p.length===e,requestToken:t}}return(r,e)=>(n(),i(l(C),{"model-value":r.value,"search-function":y,placeholder:"Search for a guild...",label:r.label,"onUpdate:modelValue":e[0]||(e[0]=t=>g("input",t)),"data-testid":"input-guild-select"},{option:a(({option:t})=>[t.value?.phase=="Closed"?(n(),i(l(v),{key:0,class:"!tw-p-0 tw-text-red-800"},{"top-right":a(()=>[s(o(t.value.entityId),1)]),"bottom-left":a(()=>e[1]||(e[1]=[s("Guild deleted",-1)])),"bottom-right":a(()=>[e[2]||(e[2]=s("Created ",-1)),u(l(d),{instant:l(m).fromISO(t.value.createdAt),disableTooltip:""},null,8,["instant"])]),default:a(()=>[s("☠️ "+o(t.value.displayName),1)],void 0,!0),_:2},1024)):t.value?(n(),i(l(v),{key:1,class:"!tw-p-0"},{"top-right":a(()=>[s(o(t.value.entityId),1)]),"bottom-left":a(()=>[e[3]||(e[3]=s("Last login ",-1)),u(l(d),{instant:l(m).fromISO(t.value.lastLoginAt),disableTooltip:""},null,8,["instant"])]),"bottom-right":a(()=>[e[4]||(e[4]=s("Created ",-1)),u(l(d),{instant:l(m).fromISO(t.value.createdAt),disableTooltip:""},null,8,["instant"])]),default:a(()=>[s(o(t.value.displayName),1)],void 0,!0),_:2},1024)):I("",!0)]),_:1},8,["model-value","label"]))}});export{V as default};
