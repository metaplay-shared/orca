import{d as H,c as n,bI as U,aP as m,aj as E,ak as O,K as C,a as b,o as r,m as g,j as $,n as o,t as c,w as p,q as w,F as A,b as G,f as h,S as V,e as Q,Q as y,aU as I,aV as _,a7 as W,k as x,U as J,al as X}from"./index-DAyiym1a.js";import{m as Y,c as Z}from"./index-TQG-La0y.js";import{_ as k}from"./MInputHintMessage.vue_vue_type_script_setup_true_lang-B7AbTbVm.js";const ee=["data-testid"],ae=["onKeydown","data-testid"],te=["data-testid"],de=H({inheritAttrs:!1,__name:"MInputSingleSelectRadio",props:{modelValue:{default:void 0},options:{},label:{default:void 0},inlineLabel:{type:Boolean},disabledTooltip:{default:void 0},variant:{default:"primary"},hintMessage:{default:void 0},vertical:{type:Boolean},size:{default:"default"}},emits:["update:modelValue"],setup(M,{emit:P}){const t=M,i=n(()=>!!t.disabledTooltip),S=n(()=>{if(i.value)return t.disabledTooltip}),T=P,d=n(()=>t.options.map(e=>({...e,id:U(e.value)}))),B=n(()=>d.value.some(e=>e.hintMessage));function R(e){const l=d.value.find(a=>a.id===e);return l?l.value:t.options[0].value}function j(e){const l=d.value.find(a=>m(a.value,e));return l?l.id:d.value[0].id}const K=n(()=>{let e;return typeof t.modelValue=="object"?e=d.value.find(l=>m(l.value,t.modelValue))?.id:e=d.value.find(l=>l.value===t.modelValue)?.id,e||(console.warn("The modelValue of the radio group does not match any of the options. Defaulting to the first option."),e=d.value[0].id),e}),F=E("radio-group"),D=n(()=>({id:F,name:t.label,onValueChange:e=>{T("update:modelValue",R(e.value))},defaultValue:K.value,disabled:i.value})),L=O(Y,D.value),s=n(()=>Z(L,X));C(()=>t.options,e=>{const l=e.map(a=>a.label);l.length!==new Set(l).size&&console.warn("Duplicate labels found in the options array of a ragio group. This is confusing for users. Options: ",l)}),C(()=>t.modelValue,e=>{s.value.setValue(j(e))});function N(e){const l="tw-rounded-full tw-border tw-flex tw-items-center tw-justify-center tw-flex-none",v={default:"tw-h-4 tw-w-4",small:"tw-h-3.5 tw-w-3.5"}[t.size],z={danger:{enabled:"tw-border-red-500 tw-bg-red-500",disabled:"tw-border-red-300 tw-bg-red-300"},warning:{enabled:"tw-border-orange-500 tw-bg-orange-500",disabled:"tw-border-orange-300 tw-bg-orange-300"},success:{enabled:"tw-border-green-500 tw-bg-green-500",disabled:"tw-border-green-300 tw-bg-green-300"},primary:{enabled:"tw-border-blue-500 tw-bg-blue-500",disabled:"tw-border-blue-300 tw-bg-blue-300"}};let f=!1;typeof t.modelValue=="object"?f=m(t.modelValue,e.value):f=t.modelValue===e.value;let u="";return f?i.value||e.disabled?u=z[t.variant].disabled:u=z[t.variant].enabled:e.disabled??i.value?u="tw-border-neutral-300 tw-bg-neutral-200":u="tw-border-neutral-300 tw-bg-white hover:tw-bg-neutral-100 active:tw-bg-neutral-200",`${l} ${v} ${u}`}function q(e){const l=t.size==="small"?"tw-text-sm":"tw-text-base";return e.disabled??i.value?`${l} tw-text-neutral-300`:t.variant==="danger"?`${l} tw-text-red-400`:`${l} tw-text-inherit`}return(e,l)=>(r(),b("span",o(s.value.getRootProps(),{class:"tw-space-y-1"},{class:{"tw-flex tw-w-full tw-items-center tw-justify-between":e.inlineLabel}}),[e.label?(r(),b("div",o({key:0},s.value.getLabelProps(),{class:"tw-text-sm tw-leading-6"},{role:"heading",class:{"tw-text-neutral-400":i.value,"tw-font-bold tw-mb-0.5":t.size==="default","tw-font-semibold":t.size==="small"}}),c(e.label),17)):g("",!0),$(J,{content:S.value,"no-underline":"","data-testid":"tooltip-"+e.label},{default:p(()=>[w("span",{class:y(["tw-inline-flex tw-gap-x-1 tw-align-top",{"tw-flex-col tw-mb-1":t.vertical||B.value,"tw-gap-x-2 tw-flex-wrap":!t.vertical}])},[(r(!0),b(A,null,G(d.value,a=>(r(),b("label",o(s.value.getItemProps({value:a.id,disabled:a.disabled}),{key:a.label},{"data-testid":`${h(V)(a.label)}-radio-button`}),[w("span",{class:y(["tw-mb-0 tw-flex tw-items-start tw-gap-x-2",{"tw-items-center":!t.vertical,"tw-cursor-not-allowed":i.value||a.disabled,"tw-cursor-pointer":!i.value&&!a.disabled}])},[w("div",o(s.value.getItemControlProps({value:a.id,disabled:a.disabled}),{class:[N(a),{"tw-mt-1":t.vertical}],tabindex:"0",onKeydown:[I(_(v=>s.value.setValue(a.id),["prevent"]),["space"]),I(_(v=>s.value.setValue(a.id),["prevent"]),["enter"])],"data-testid":`${h(V)(a.label)}-control`}),[s.value.value===a.id?(r(),b("div",{key:0,class:y(["tw-rounded-full tw-bg-white",{"tw-size-1.5":t.size==="default","tw-size-[0.315rem]":t.size==="small"}])},null,2)):g("",!0)],16,ae),w("span",o(s.value.getItemTextProps({value:a.id,disabled:a.disabled}),{class:[q(a),"tw-overflow-hidden tw-overflow-ellipsis"]}),[W(e.$slots,"option",{option:a},()=>[x(c(a.label),1)])],16),w("input",o(s.value.getItemHiddenInputProps({value:a.id,disabled:a.disabled}),{tabindex:"-1","data-testid":`${h(V)(a.label)}-input`}),null,16,te)],2),a.hintMessage?(r(),Q(k,{key:0,variant:t.variant},{default:p(()=>[x(c(a.hintMessage),1)],void 0,!0),_:2},1032,["variant"])):g("",!0)],16,ee))),128))],2)],void 0,!0),_:3},8,["content","data-testid"]),$(k,{variant:e.variant},{default:p(()=>[x(c(e.hintMessage),1)],void 0,!0),_:1},8,["variant"])],16))}});export{de as _};
