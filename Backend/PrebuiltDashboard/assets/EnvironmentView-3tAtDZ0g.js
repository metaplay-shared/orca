import{d as U,h as H,e as T,o as w,ah as Ze,I as ot,w as b,a7 as he,j as _,a as y,m as R,k as C,bF as ut,Q as I,q as u,E as P,dw as ye,c as A,K as ct,af as dt,r as Y,f as g,b as q,t as x,F as M,T as pt,dx as ht,bs as ft,x as le,_ as j,dy as _e,ae as ge,a4 as me,cJ as Ue,B as Ge,D as J,y as Fe,bk as ee,l as we,ci as ze,s as gt,bg as mt,c8 as Qe,dz as wt,bj as bt,v as kt,ab as xt,a8 as vt,a9 as yt,bl as re}from"./index-DAyiym1a.js";import{_ as Pe}from"./MAbbreviateNumber.vue_vue_type_script_setup_true_lang-D1qNvv8f.js";import{_ as We}from"./MModal.vue_vue_type_script_setup_true_lang-BkBKbY8Q.js";import{_ as _t}from"./MInputText.vue_vue_type_script_setup_true_lang-B9sf9LSD.js";import{_ as St}from"./MActionModalButton.vue_vue_type_script_setup_true_lang-CRnsCPt_.js";import Je from"./MetaListCard-CjpVaEvN.js";import{M as fe,a as De,b as Oe,c as V}from"./metaListUtils-B-xQ0HnD.js";import{_ as be}from"./MRawDataCard.vue_vue_type_script_setup_true_lang-Q1r46_CP.js";import{_ as $t}from"./UpdatingMetricCard.vue_vue_type_script_setup_true_lang-DGgCH7p7.js";import{_ as Tt}from"./MTabLayout.vue_vue_type_script_setup_true_lang-xoFAviVR.js";import{M as Me}from"./MSingleColumnLayout-CUJDqBPP.js";import{_ as Ct}from"./MTwoColumnLayout.vue_vue_type_script_setup_true_lang-CLb4mfLH.js";import{_ as Rt,a as It}from"./MViewContainer.vue_vue_type_script_setup_true_lang-DP4T6epC.js";import"./numberUtils-CkF0oMe2.js";import"./index-CVSO09yM.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-B7AbTbVm.js";import"./debounce-CRuraxcR.js";import"./isSymbol-BXvDeGRF.js";import"./MActionModal.vue_vue_type_script_setup_true_lang-XDUxofmt.js";import"./utils-DSYdgMhH.js";import"./_baseIteratee-CfhjPvCd.js";import"./identity-DKeuBCMA.js";import"./MInputMultiSelectCheckbox.vue_vue_type_script_setup_true_lang-D6xsoOzq.js";import"./MInputCheckbox.vue_vue_type_script_setup_true_lang-CmGaUCkv.js";import"./MInputSingleSelectRadio.vue_vue_type_script_setup_true_lang-CGM7lb3s.js";import"./index-TQG-La0y.js";import"./button-group-DBs956_t.js";import"./MetricCard.vue_vue_type_script_setup_true_lang-CFPMZe7V.js";import"./MPlot.vue_vue_type_script_setup_true_lang-Bt9zzkvn.js";import"./MInputSingleSelectDropdown.vue_vue_type_script_setup_true_lang-BRIBVSuX.js";const Nt={key:0},Lt=U({__name:"MCollapseCard",props:{title:{},subtitle:{},badge:{}},setup(s){const e=H(!1);return(t,r)=>(w(),T(Ze,{title:t.title,subtitle:t.subtitle,badge:t.badge,badgeVariant:e.value?"primary":"neutral",clickableHeader:"",noBodyPadding:"",onHeaderClick:r[0]||(r[0]=n=>e.value=!e.value)},ot({subtitle:b(()=>[he(t.$slots,"subtitle")]),icon:b(()=>[(w(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:I(["tw-w-5 tw-h-5 tw-transition-transform tw-relative",{"tw-rotate-90":e.value}]),style:{bottom:"1px"}},r[1]||(r[1]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)]),2))]),default:b(()=>[_(ut,null,{default:b(()=>[e.value?(w(),y("div",Nt,[he(t.$slots,"default",{},()=>[r[2]||(r[2]=C("Content TBD",-1))])])):R("",!0)],void 0,!0),_:3})],void 0,!0),_:2},[t.$slots["header-right"]?{name:"header-right",fn:b(()=>[he(t.$slots,"header-right")]),key:"0"}:void 0]),1032,["title","subtitle","badge","badgeVariant"]))}}),At={class:"tw-flex tw-justify-end tw-space-x-2"},Et={class:"tw-divide-y tw-divide-neutral-200 tw-rounded-md tw-border tw-border-neutral-300",style:{"font-size":"0.8rem"}},zt={key:0},Pt={class:"tw-text-base tw-font-semibold"},Dt={class:"tw-grid tw-gap-x-6 tw-space-y-0.5 sm:tw-grid-cols-2 lg:tw-grid-cols-3"},Ot={class:"tw-break-words"},Mt={class:"text-monospace tw-flex-none"},Bt={key:1,class:"tw-text-sm tw-font-semibold tw-text-neutral-500"},jt=U({__name:"DatabaseItemsCard",setup(s){const e=ft(),{data:t,hasPermission:r,error:n}=P(ye()),a=A(()=>t.value?.options.values),i=H(),l=A(()=>{if(!t.value)return{};const k={};for(const v of Object.keys(t.value.shardItemCounts)){const E=t.value.shardItemCounts[v];k[v]=E.reduce((F,Q)=>F+Q,0)}return k}),c=H(""),o=H(!1),d=H(""),p=H("default");ct(c,()=>{o.value=null,d.value="",c.value?ht(c.value)?(p.value="loading",e.get(`/entities/${c.value}/exists`).then(k=>{const v=k.data;o.value=v,p.value=v?"success":"danger",d.value=v?"":"Entity does not exist."})):(o.value=!1,d.value="Not a valid entity ID.",p.value="danger"):(o.value=null,d.value="",p.value="default")});function h(){c.value="",o.value=null,d.value=""}const m=dt();function f(){m.push(`/entities/${c.value}/dbinfo`)}return(k,v)=>{const E=Y("b-td"),F=Y("b-tr"),Q=Y("b-tbody"),se=Y("b-table-simple");return w(),T(g(Ze),{title:"Database Items","data-testid":"database-items"},{default:b(()=>[v[4]||(v[4]=u("span",{class:"tw-font-semibold"},"Totals",-1)),_(se,{class:"tw-mt-1",small:""},{default:b(()=>[_(Q,null,{default:b(()=>[(w(!0),y(M,null,q(l.value,(W,L)=>(w(),T(F,{key:L},{default:b(()=>[_(E,null,{default:b(()=>[C(x(L),1)],void 0,!0),_:2},1024),_(E,{class:"tw-text-right"},{default:b(()=>[_(g(Pe),{number:W},null,8,["number"])],void 0,!0),_:2},1024)],void 0,!0),_:2},1024))),128))],void 0,!0),_:1})],void 0,!0),_:1}),u("div",At,[g(t)?(w(),T(g(pt),{key:0,onClick:i.value?.open},{default:b(()=>v[1]||(v[1]=[C("Show Items per Shard",-1)]),void 0,!0),_:1,__:[1]},8,["onClick"])):R("",!0),_(g(We),{ref_key:"databaseStatusModal",ref:i,title:"Database Items per Shard","modal-size":"large"},{default:b(()=>[u("ul",Et,[(w(!0),y(M,null,q(a.value.shards,(W,L)=>(w(),y("li",{class:"tw-px-3 tw-py-3 even:tw-bg-neutral-100",key:L},[L<g(t).numShards?(w(),y("div",zt,[u("div",Pt,"Shard #"+x(L),1),u("div",Dt,[(w(!0),y(M,null,q(g(t).shardItemCounts,(B,Ee)=>(w(),y("div",{key:`counts-${Ee}`},[u("div",{class:I(["tw-flex tw-flex-wrap tw-justify-between tw-gap-x-2",B[L]>0?"":"text-muted"])},[u("span",Ot,x(Ee),1),u("span",Mt,[_(g(Pe),{number:B[L]},null,8,["number"])])],2)]))),128))])])):(w(),y("div",Bt,"Shard #"+x(L)+" inactive",1))]))),128))])],void 0,!0),_:1},512),_(g(St),{"modal-title":"Inspect an Entity",action:f,"trigger-button-label":"Inspect Entity","ok-button-label":"Inspect","ok-button-disabled-tooltip":o.value?void 0:"Enter a valid Entity ID to proceed.","disable-safety-lock":"",permission:"api.database.inspect_entity",onShow:h,"data-testid":"inspect-entity"},{default:b(()=>[v[2]||(v[2]=u("p",{class:"tw-mb-3"},"Entity inspection loads the stored data for the chosen entity and deserializes it into a human readable form without affecting the actual data.",-1)),v[3]||(v[3]=u("span",{class:"tw-text-xs+ tw-text-neutral-500"},"Inspecting the raw data of an entity may help you spot problems with the related actor, as you can see the data before any potential mutations during wake-up.",-1)),_(g(_t),{class:"tw-mt-4",label:"Entity ID","model-value":c.value,variant:p.value,"hint-message":o.value===!1?d.value:void 0,placeholder:"Player:000000003v",debounce:300,"onUpdate:modelValue":v[0]||(v[0]=W=>c.value=W),"data-testid":"entity-id-input"},null,8,["model-value","variant","hint-message"])],void 0,!0),_:1,__:[2,3]},8,["ok-button-disabled-tooltip"])])],void 0,!0),_:1,__:[4]})}}}),qt={key:0},Vt={key:1},Ht=U({__name:"DatabaseShardsCard",setup(s){const{data:e,hasPermission:t,error:r}=P(ye()),n=A(()=>e.value?.options.values),a=A(()=>e.value?.mySqlConnectionPoolMaxSize),i=A(()=>n.value?.shards);return(l,c)=>(w(),T(g(Je),{title:"Database Shards",icon:"database",itemList:i.value,permission:"api.database.status","data-testid":"database-shards"},{description:b(()=>[c[0]||(c[0]=C("The database type for this environment is ",-1)),_(g(j),{variant:"primary"},{default:b(()=>[C(x(n.value.backend),1)],void 0,!0),_:1}),c[1]||(c[1]=C(".",-1))]),"item-card":b(({item:o,index:d})=>[_(g(le),null,{"top-right":b(()=>[C(x(o.userId),1)]),"bottom-left":b(()=>[n.value.backend==="MySql"?(w(),y("div",qt,[u("div",null,"Database: "+x(o.databaseName),1),u("div",null,"RW host: "+x(o.readWriteHost),1),u("div",null,"RO host: "+x(o.readOnlyHost),1),u("div",null,"Max connections: "+x(a.value),1)])):R("",!0),n.value.backend==="Sqlite"?(w(),y("div",Vt,[u("div",null,"File path: "+x(o.filePath),1)])):R("",!0)]),default:b(()=>[C("#"+x(d),1)],void 0,!0),_:2},1024)]),_:1},8,["itemList"]))}}),Zt={class:"tw-mb-2 tw-text-neutral-500"},Ut={class:"tw-w-full tw-table-auto"},Gt={class:"tw-divide-y tw-divide-neutral-200 tw-border-t tw-border-neutral-200 *:*:tw-py-1"},Ft={class:"tw-text-right"},Qt={class:"tw-text-right"},Wt={class:"tw-text-right"},Jt={key:0},Kt={key:1},Xt={class:"tw-text-right"},Yt={class:"tw-text-right"},en={key:0},tn={class:"tw-grid tw-grid-flow-row tw-gap-x-6 @md:tw-grid-cols-2"},nn={class:"tw-break-words"},sn={class:"text-monospace tw-flex-none"},rn={key:1,class:"tw-text-neutral-400"},an={class:"tw-font-semibold"},ln={class:"tw-space-y-2"},on={class:"tw-mt-2 tw-max-h-72 tw-overflow-scroll tw-rounded-md tw-border tw-border-neutral-300 tw-bg-neutral-100 tw-p-3 tw-text-xs"},un={key:0,class:"tw-font-mono tw-text-neutral-500"},cn={key:1,class:"tw-text-neutral-500"},dn=U({__name:"ManageNodeButton",props:{nodeSetIndex:{},nodeName:{},dataTestid:{}},setup(s){const e=s,{data:t}=P(_e()),r=A(()=>t.value?.nodeSets[e.nodeSetIndex]),n=A(()=>r.value?.nodes.find(d=>d.name===e.nodeName)),a=H(),i=A(()=>Object.fromEntries(Object.entries(n.value?.rawNodeData.liveEntityCounts??{}).sort((d,p)=>d[0].localeCompare(p[0]))));function l(d){return d==="HardLimit"||d==="NotConnected"||d==="unknown"?"tw-text-red-500":d==="ExpectedNotConnected"?"tw-text-neutral-400":void 0}function c(d){return d==="NotConnected"?"Failed to connect":d==="ExpectedNotConnected"?"Inactive":we(d)}function o(d){return r.value?.scalingMode==="Static"?"None":d.nodeStatus==="NotConnected"||d.nodeStatus==="ExpectedNotConnected"?"Idle":we(d.nodeScalingState)}return(d,p)=>n.value?(w(),T(g(ge),{key:0,onClick:a.value?.open,"data-testid":`${d.dataTestid}-button`},{default:b(()=>[p[17]||(p[17]=C("View node",-1)),_(g(We),{ref_key:"nodeManageModal",ref:a,title:`View ${g(me)(d.nodeName)} Node`,"data-testid":`${d.dataTestid}-modal`},{"right-panel":b(()=>[u("div",an,[p[12]||(p[12]=C("Workload Data ",-1)),_(g(ee),{contents:n.value.rawNodeData.rawWorkload?JSON.stringify(n.value.rawNodeData.rawWorkload):void 0},null,8,["contents"])]),p[14]||(p[14]=u("div",{class:"tw-text-xs+ tw-text-neutral-500"},"The raw workload data for this node. This provides details about how the system's autoscaling is configured.",-1)),u("div",ln,[u("div",on,[n.value.rawNodeData.rawWorkload?(w(),y("pre",un,x(n.value.rawNodeData.rawWorkload),1)):(w(),y("div",cn,p[13]||(p[13]=[u("span",{class:"tw-mx-auto tw-text-xs+"},"No data available.",-1)])))])])]),default:b(()=>[u("div",Zt,[p[1]||(p[1]=C("View a summary of the systems currently running on this node.",-1)),p[2]||(p[2]=u("span",{class:"tw-mx-1"},"For detailed insights into the performance and workload, check the",-1)),_(g(ge),{to:n.value.grafanaLogUrl?n.value.grafanaLogUrl:void 0,permission:"dashboard.grafana.view","disabled-tooltip":n.value.grafanaLogUrl?void 0:"Grafana is not enabled for this environment.",target:"_blank","data-testid":"view-grafana-logs-button"},{default:b(()=>p[0]||(p[0]=[C("Grafana logs",-1)]),void 0,!0),_:1,__:[0]},8,["to","disabled-tooltip"]),p[3]||(p[3]=u("span",null,".",-1))]),u("table",Ut,[u("tbody",Gt,[u("tr",null,[p[4]||(p[4]=u("td",null,"Status",-1)),u("td",{class:I(["tw-text-right",l(n.value.nodeStatus)])},x(c(n.value.nodeStatus)),3)]),u("tr",null,[p[5]||(p[5]=u("td",null,"Scaling",-1)),u("td",Ft,x(o(n.value)),1)]),u("tr",null,[p[6]||(p[6]=u("td",null,"Phase",-1)),u("td",Qt,x(n.value.rawNodeData.clusterLocalPhase||"Unknown"),1)]),u("tr",null,[p[8]||(p[8]=u("td",null,"Uptime",-1)),u("td",Wt,[g(Ue)(n.value.serverStartedAt)?(w(),y("span",Kt,"Not available")):(w(),y("span",Jt,[_(g(Ge),{duration:g(J).utc().diff(g(J).fromISO(n.value.serverStartedAt)),"show-as":"humanizedSentenceCase","disable-tooltip":""},null,8,["duration"]),p[7]||(p[7]=u("span",{class:"tw-mx-1"},"since",-1)),_(g(Fe),{instant:g(J).fromISO(n.value.serverStartedAt),"show-as":"dateTime"},null,8,["instant"])]))])]),u("tr",null,[p[9]||(p[9]=u("td",null,"Public IP",-1)),u("td",Xt,[C(x(n.value.publicIp||"Not available")+" ",1),n.value.publicIp?(w(),T(g(ee),{key:0,contents:JSON.stringify(n.value.publicIp)},null,8,["contents"])):R("",!0)])]),u("tr",null,[p[10]||(p[10]=u("td",null,"Host",-1)),u("td",Yt,[C(x(n.value.nodeAddress)+" ",1),n.value.nodeAddress?(w(),T(g(ee),{key:0,contents:n.value.nodeAddress},null,8,["contents"])):R("",!0)])])])]),p[15]||(p[15]=u("div",{class:"tw-mt-2 tw-font-semibold"},"Hosted Entities",-1)),p[16]||(p[16]=u("p",{class:"tw-mb-2 tw-text-neutral-500"},"The entities of each type currently running on this node.",-1)),n.value.rawNodeData.liveEntityCounts?(w(),y("ul",en,[u("div",tn,[(w(!0),y(M,null,q(i.value,(h,m)=>(w(),y("div",{key:m},[u("div",{class:I(["tw-flex tw-flex-wrap tw-justify-between tw-gap-x-2",{"tw-text-neutral-400":h===0}])},[u("span",nn,x(m),1),u("span",sn,x(h),1)],2)]))),128))])])):(w(),y("div",rn,p[11]||(p[11]=[u("span",{class:"tw-m-auto tw-text-xs+"},"No data available",-1)])))],void 0,!0),_:1,__:[15,16]},8,["title","data-testid"])],void 0,!0),_:1,__:[17]},8,["onClick","data-testid"])):R("",!0)}}),pn={key:0,class:"tw-space-x-1"},hn={key:1,class:"tw-space-x-1"},fn={class:"tw-flex tw-flex-col tw-space-y-1 tw-text-xs tw-text-neutral-500"},gn={key:0},mn={key:1},wn={key:0},bn={class:"bg-light rounded border tw-m3"},kn={class:"tw-my-2 tw-px-5","data-testid":"node-set-item-entities"},xn={class:"tw-grid tw-gap-x-6 tw-pt-1 tw-text-xs+ @md:tw-grid-cols-2 @lg:tw-grid-cols-3"},vn={class:"tw-break-words"},yn={class:"text-monospace tw-flex-none"},_n={key:0},Sn={class:"tw-divide-y tw-divide-neutral-200 tw-border-t tw-border-neutral-200 *:*:tw-py-1"},$n={class:"tw-text-right"},Tn={key:0},Cn={key:1},Rn={class:"tw-text-right"},In={class:"tw-text-right"},Nn=U({__name:"NodeSetsCard",setup(s){const{data:e}=P(_e()),t=A(()=>e.value?e.value.nodeSets:[]);function r(h){let m,f,k;return h.mostSevereStatus==="NotConnected"?(m="Failed to connect",f="One or more nodes in this set are no longer reachable. Please investigate the issue and contact your DevOps team for assistance.",k="tw-text-red-500"):h.mostSevereStatus==="HardLimit"?(m="Hard limit reached",f="This node set is operating as expected but one or more nodes have reached their hard limit. Consider adjusting resources or provisioning additional nodes.",k="tw-text-red-500"):h.mostSevereStatus==="SoftLimit"?(m="Soft limit reached",f="This node set is operating as expected but one or more nodes have reached their soft limit.",k="tw-text-neutral-500"):h.mostSevereStatus==="Perfect"?(m="Perfect",f="All nodes in this set are operating as expected.",k="tw-text-neutral-500"):h.mostSevereStatus==="ExpectedNotConnected"?(m="Inactive",f="This node set is currently inactive.",k="tw-text-neutral-400"):(m="Unknown Status",f="This node set is in an unknown state. This is unexpected and should be investigated. Contact your DevOps team for support.",k="tw-text-red-500"),{title:m,description:f,textVariant:k}}function n(h){let m,f,k;return h.mostSevereStatus==="NotConnected"?(m="Failed to connect",f="One or more nodes in this set are no longer reachable. Please investigate and contact your DevOps team for assistance.",k="tw-text-red-500"):h.mostSevereStatus==="HardLimit"?(m="Hard limit reached",h.scalingState==="ScalingUp"?f="This node set is working as expected, but one or more nodes have reached their hard limit and are attempting to scale up. This might indicate sudden load or an issue occurred while provisioning new nodes. Please investigate this issue or contact your DevOps team for support.":h.scalingState==="ScalingDown"?f="This node set is working as expected but one or more nodes have reached their hard limit. The system is scaling down to reduce resource usage.":f="This node set is working as expected but one or more nodes have reached their hard limit and no more nodes can be added. Consider adjusting resources or provisioning additional nodes.",k="tw-text-red-500"):h.mostSevereStatus==="SoftLimit"?(m="Soft limit reached",h.scalingState==="ScalingUp"?f="The node set is working as expected but one or more nodes have reached their soft limit. The system is scaling up to handle increased demand.":h.scalingState==="ScalingDown"?(f="One or more nodes have reached their soft limit. The system is scaling down to reduce resource usage, this is unexpected and could cause further issues. Please investigate this issue or contact your DevOps team for support.",k="tw-text-red-500"):f="This node set is working as expected but one or more nodes have reached their soft limit.",k="tw-text-neutral-500"):h.mostSevereStatus==="Perfect"?(m="Perfect",h.scalingState==="ScalingUp"?f="All nodes in this set are working as expected and the system is scaling up to manage increased demand.":h.scalingState==="ScalingDown"?f="All nodes in this set are working as expected and the system is scaling down to reduce resource usage.":h.scalingState==="AtMaxNodeCount"?f="All nodes are working as expected, but the maximum node count has been reached. Consider adjusting resources or provisioning additional nodes.":f="All nodes in this set are working as expected and there is additional capacity available.",k="tw-text-neutral-500"):h.mostSevereStatus==="ExpectedNotConnected"?(m="Inactive",f="This node set is currently inactive.",k="tw-text-neutral-300"):(m="Unknown",f="This node set is in an unknown state. This is unexpected and should be investigated. Contact your DevOps team for support.",k="tw-text-red-500"),{title:m,description:f,textVariant:k}}function a(h){const m=h.nodeStatus,f=h.rawNodeData.clusterLocalPhase??void 0;return m==="NotConnected"?{message:"Error: This node has failed to connect.",textVariant:"tw-text-red-500"}:m==="ExpectedNotConnected"?{message:"This node is not active.",textVariant:"tw-text-neutral-300"}:f==="Terminated"?{message:"This node is no longer active.",textVariant:"tw-text-neutral-300"}:f==="Starting"?{message:"This node is starting up.",textVariant:"tw-text-neutral-500"}:m==="HardLimit"?{message:"This node has reached its hard limit.",textVariant:"tw-text-red-500"}:m==="SoftLimit"?{message:"This node has reached its soft limit.",textVariant:"tw-text-neutral-500"}:m==="Perfect"?{message:"This node is operating as expected.",textVariant:"tw-text-neutral-500"}:{message:"Error: This node is in an unknown state.",textVariant:"tw-text-red-500"}}function i(h,m){if(m.rawNodeData.clusterLocalPhase==="Running"){if(h.scalingMode==="Static")return"Running";{const f=m.rawNodeData.scalingNodeState;return f==="Working"?"Running":f==="Killing"?"Terminating":void 0}}else return m.rawNodeData.clusterLocalPhase==="Starting"?"Starting":m.rawNodeData.clusterLocalPhase?me(m.rawNodeData.clusterLocalPhase):void 0}function l(h){return Object.fromEntries(Object.entries(h).sort((m,f)=>m[0].localeCompare(f[0])))}const c=["entityKinds"],o=[new Oe("scalingMode",[new V("Static",h=>h.scalingMode==="Static"),new V("Dynamic",h=>h.scalingMode==="DynamicLinear")]),new Oe("status",[new V("Not Connected",h=>h.mostSevereStatus==="NotConnected"),new V("Inactive",h=>h.mostSevereStatus==="ExpectedNotConnected"),new V("Hard Limit",h=>h.mostSevereStatus==="HardLimit"),new V("Soft Limit",h=>h.mostSevereStatus==="SoftLimit"),new V("Perfect",h=>h.mostSevereStatus==="Perfect")])];function d(h){return h.name}const p=[fe.asUnsorted(),new fe("Name","name",De.Ascending),new fe("Name","name",De.Descending)];return(h,m)=>g(e)?(w(),T(g(Je),{key:0,title:"All Nodes",itemList:t.value,searchFields:c,searchPlaceholder:"Search by entity type...",filterSets:o,sortOptions:p,getItemKey:d,emptyMessage:"No nodes found.","data-testid":"node-sets"},{"item-card":b(({item:f,index:k})=>[_(g(gt),{extraMListItemMargin:""},{header:b(()=>[_(g(le),{noLeftPadding:"","data-testid":"node-set-item"},{"bottom-left":b(()=>[f.scalingMode==="Static"?(w(),y("div",pn,[u("span",{class:I(["tw-text-xs+ tw-my-1 tw-font-semibold",r(f).textVariant])},x(r(f).title)+":",3),u("span",{class:I(["tw-text-xs+ tw-my-1",r(f).textVariant])},x(r(f).description),3)])):(w(),y("div",hn,[u("span",{class:I(["tw-text-xs+ tw-my-1 tw-font-semibold",n(f).textVariant])},x(n(f).title)+":",3),u("span",{class:I(["tw-text-xs+ tw-my-1",n(f).textVariant])},x(n(f).description),3)]))]),"bottom-right":b(()=>[u("div",fn,[f.scalingMode==="Static"?(w(),y("span",gn,x(g(ze)(f.connectedNodes,"Node","Nodes"))+" "+x(f.connectedNodes)+" / "+x(f.maxNodeCount),1)):(w(),y("span",mn,x(g(ze)(f.connectedNodes,"Node","Nodes"))+" "+x(f.connectedNodes)+" / "+x(f.maxNodeCount),1)),u("span",null,"Entity types "+x(Object.keys(f.aggregatedLiveEntityCounts).length),1)])]),default:b(()=>[u("span",{class:I([{"tw-text-neutral-400":f.mostSevereStatus==="ExpectedNotConnected"}])},x(g(we)(f.name)),3)],void 0,!0),_:2},1024)]),default:b(()=>[f?(w(),y("ul",wn,[u("div",bn,[u("li",kn,[m[0]||(m[0]=u("span",{class:"tw-text-sm tw-font-semibold"},"Current Entities",-1)),u("div",xn,[(w(!0),y(M,null,q(l(f.aggregatedLiveEntityCounts),(v,E)=>(w(),y("div",{key:E},[u("div",{class:I(["tw-flex tw-flex-wrap tw-justify-between tw-gap-x-2",{"tw-text-neutral-400":v===0}])},[u("span",vn,x(E),1),u("span",yn,x(v),1)],2)]))),128))])])]),f.nodes?(w(),y("div",_n,[(w(!0),y(M,null,q(f.nodes,v=>(w(),T(g(le),{key:v.name,"data-testid":"node-set-item-details"},{"top-right":b(()=>[u("span",{class:I([{"tw-text-neutral-300":v.nodeStatus==="ExpectedNotConnected"}])},x(f.scalingMode==="Static"?"Static":"Dynamic"),3)]),"bottom-left":b(()=>[u("div",{class:I(["tw-text-xs+",a(v).textVariant])},x(a(v).message),3),u("table",{class:I(["tw-w-full",["tw-max-w-[37rem]",{"tw-text-neutral-300":v.nodeStatus==="ExpectedNotConnected"}]])},[u("tbody",Sn,[u("tr",null,[m[2]||(m[2]=u("td",{class:"tw-text-xs+"},"Uptime",-1)),u("td",$n,[g(Ue)(v.serverStartedAt)?(w(),y("span",Cn,"Not available")):(w(),y("div",Tn,[_(g(Ge),{duration:g(J).utc().diff(g(J).fromISO(v.serverStartedAt)),"show-as":"humanizedSentenceCase","disable-tooltip":""},null,8,["duration"]),m[1]||(m[1]=u("span",{class:"tw-mx-1"},"since",-1)),_(g(Fe),{instant:g(J).fromISO(v.serverStartedAt),"show-as":"dateTime"},null,8,["instant"])]))])]),u("tr",null,[m[3]||(m[3]=u("td",{class:"tw-text-xs+"},"Public IP",-1)),u("td",Rn,[C(x(v.publicIp||"Not available")+" ",1),v.publicIp?(w(),T(g(ee),{key:0,contents:JSON.stringify(v.publicIp)},null,8,["contents"])):R("",!0)])]),u("tr",null,[m[4]||(m[4]=u("td",{class:"tw-text-xs+"},"Host",-1)),u("td",In,[C(x(v.nodeAddress)+" ",1),v.nodeAddress?(w(),T(g(ee),{key:0,contents:v.nodeAddress},null,8,["contents"])):R("",!0)])])])],2)]),"bottom-right":b(()=>[v.nodeStatus!=="ExpectedNotConnected"?(w(),T(dn,{key:0,nodeSetIndex:k,nodeName:v.name,"data-testid":"manage-node"},null,8,["nodeSetIndex","nodeName"])):R("",!0)]),default:b(()=>[u("p",{class:I(["tw-text-sm",{"tw-text-neutral-300":v.nodeStatus==="ExpectedNotConnected"}])},[C(x(g(me)(v.name)),1),i(f,v)?(w(),T(g(j),{key:0,class:"tw-ml-1"},{default:b(()=>[C(x(i(f,v)),1)],void 0,!0),_:2},1024)):R("",!0)],2)],void 0,!0),_:2},1024))),128))])):R("",!0)])):R("",!0)],void 0,!0),_:2},1024)]),_:1},8,["itemList"])):R("",!0)}}),Ln=mt(Nn,[["__scopeId","data-v-ec8e2f80"]]);function Se(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var G=Se();function Ke(s){G=s}var te={exec:()=>null};function S(s,e=""){let t=typeof s=="string"?s:s.source;const r={replace:(n,a)=>{let i=typeof a=="string"?a:a.source;return i=i.replace(N.caret,"$1"),t=t.replace(n,i),r},getRegex:()=>new RegExp(t,e)};return r}var N={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:s=>new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}#`),htmlBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}<(?:[a-z].*>|!--)`,"i")},An=/^(?:[ \t]*(?:\n|$))+/,En=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,zn=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ne=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Pn=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,$e=/(?:[*+-]|\d{1,9}[.)])/,Xe=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ye=S(Xe).replace(/bull/g,$e).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Dn=S(Xe).replace(/bull/g,$e).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Te=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,On=/^[^\n]+/,Ce=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Mn=S(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ce).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Bn=S(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,$e).getRegex(),de="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Re=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,jn=S("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Re).replace("tag",de).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),et=S(Te).replace("hr",ne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",de).getRegex(),qn=S(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",et).getRegex(),Ie={blockquote:qn,code:En,def:Mn,fences:zn,heading:Pn,hr:ne,html:jn,lheading:Ye,list:Bn,newline:An,paragraph:et,table:te,text:On},Be=S("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",de).getRegex(),Vn={...Ie,lheading:Dn,table:Be,paragraph:S(Te).replace("hr",ne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Be).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",de).getRegex()},Hn={...Ie,html:S(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Re).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:te,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:S(Te).replace("hr",ne).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ye).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Zn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Un=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,tt=/^( {2,}|\\)\n(?!\s*$)/,Gn=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,pe=/[\p{P}\p{S}]/u,Ne=/[\s\p{P}\p{S}]/u,nt=/[^\s\p{P}\p{S}]/u,Fn=S(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ne).getRegex(),st=/(?!~)[\p{P}\p{S}]/u,Qn=/(?!~)[\s\p{P}\p{S}]/u,Wn=/(?:[^\s\p{P}\p{S}]|~)/u,Jn=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,rt=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Kn=S(rt,"u").replace(/punct/g,pe).getRegex(),Xn=S(rt,"u").replace(/punct/g,st).getRegex(),at="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Yn=S(at,"gu").replace(/notPunctSpace/g,nt).replace(/punctSpace/g,Ne).replace(/punct/g,pe).getRegex(),es=S(at,"gu").replace(/notPunctSpace/g,Wn).replace(/punctSpace/g,Qn).replace(/punct/g,st).getRegex(),ts=S("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,nt).replace(/punctSpace/g,Ne).replace(/punct/g,pe).getRegex(),ns=S(/\\(punct)/,"gu").replace(/punct/g,pe).getRegex(),ss=S(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),rs=S(Re).replace("(?:-->|$)","-->").getRegex(),as=S("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",rs).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),oe=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,is=S(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",oe).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),it=S(/^!?\[(label)\]\[(ref)\]/).replace("label",oe).replace("ref",Ce).getRegex(),lt=S(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ce).getRegex(),ls=S("reflink|nolink(?!\\()","g").replace("reflink",it).replace("nolink",lt).getRegex(),Le={_backpedal:te,anyPunctuation:ns,autolink:ss,blockSkip:Jn,br:tt,code:Un,del:te,emStrongLDelim:Kn,emStrongRDelimAst:Yn,emStrongRDelimUnd:ts,escape:Zn,link:is,nolink:lt,punctuation:Fn,reflink:it,reflinkSearch:ls,tag:as,text:Gn,url:te},os={...Le,link:S(/^!?\[(label)\]\((.*?)\)/).replace("label",oe).getRegex(),reflink:S(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",oe).getRegex()},ke={...Le,emStrongRDelimAst:es,emStrongLDelim:Xn,url:S(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},us={...ke,br:S(tt).replace("{2,}","*").getRegex(),text:S(ke.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ae={normal:Ie,gfm:Vn,pedantic:Hn},K={normal:Le,gfm:ke,breaks:us,pedantic:os},cs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},je=s=>cs[s];function z(s,e){if(e){if(N.escapeTest.test(s))return s.replace(N.escapeReplace,je)}else if(N.escapeTestNoEncode.test(s))return s.replace(N.escapeReplaceNoEncode,je);return s}function qe(s){try{s=encodeURI(s).replace(N.percentDecode,"%")}catch{return null}return s}function Ve(s,e){const t=s.replace(N.findPipe,(a,i,l)=>{let c=!1,o=i;for(;--o>=0&&l[o]==="\\";)c=!c;return c?"|":" |"}),r=t.split(N.splitPipe);let n=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(N.slashPipe,"|");return r}function X(s,e,t){const r=s.length;if(r===0)return"";let n=0;for(;n<r&&s.charAt(r-n-1)===e;)n++;return s.slice(0,r-n)}function ds(s,e){if(s.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<s.length;r++)if(s[r]==="\\")r++;else if(s[r]===e[0])t++;else if(s[r]===e[1]&&(t--,t<0))return r;return t>0?-2:-1}function He(s,e,t,r,n){const a=e.href,i=e.title||null,l=s[1].replace(n.other.outputLinkReplace,"$1");r.state.inLink=!0;const c={type:s[0].charAt(0)==="!"?"image":"link",raw:t,href:a,title:i,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,c}function ps(s,e,t){const r=s.match(t.other.indentCodeCompensation);if(r===null)return e;const n=r[1];return e.split(`
`).map(a=>{const i=a.match(t.other.beginningSpace);if(i===null)return a;const[l]=i;return l.length>=n.length?a.slice(n.length):a}).join(`
`)}var ue=class{options;rules;lexer;constructor(s){this.options=s||G}space(s){const e=this.rules.block.newline.exec(s);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(s){const e=this.rules.block.code.exec(s);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:X(t,`
`)}}}fences(s){const e=this.rules.block.fences.exec(s);if(e){const t=e[0],r=ps(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(s){const e=this.rules.block.heading.exec(s);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const r=X(t,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(t=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(s){const e=this.rules.block.hr.exec(s);if(e)return{type:"hr",raw:X(e[0],`
`)}}blockquote(s){const e=this.rules.block.blockquote.exec(s);if(e){let t=X(e[0],`
`).split(`
`),r="",n="";const a=[];for(;t.length>0;){let i=!1;const l=[];let c;for(c=0;c<t.length;c++)if(this.rules.other.blockquoteStart.test(t[c]))l.push(t[c]),i=!0;else if(!i)l.push(t[c]);else break;t=t.slice(c);const o=l.join(`
`),d=o.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${o}`:o,n=n?`${n}
${d}`:d;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,a,!0),this.lexer.state.top=p,t.length===0)break;const h=a.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){const m=h,f=m.raw+`
`+t.join(`
`),k=this.blockquote(f);a[a.length-1]=k,r=r.substring(0,r.length-m.raw.length)+k.raw,n=n.substring(0,n.length-m.text.length)+k.text;break}else if(h?.type==="list"){const m=h,f=m.raw+`
`+t.join(`
`),k=this.list(f);a[a.length-1]=k,r=r.substring(0,r.length-h.raw.length)+k.raw,n=n.substring(0,n.length-m.raw.length)+k.raw,t=f.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:a,text:n}}}list(s){let e=this.rules.block.list.exec(s);if(e){let t=e[1].trim();const r=t.length>1,n={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");const a=this.rules.other.listItemRegex(t);let i=!1;for(;s;){let c=!1,o="",d="";if(!(e=a.exec(s))||this.rules.block.hr.test(s))break;o=e[0],s=s.substring(o.length);let p=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,E=>" ".repeat(3*E.length)),h=s.split(`
`,1)[0],m=!p.trim(),f=0;if(this.options.pedantic?(f=2,d=p.trimStart()):m?f=e[1].length+1:(f=e[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,d=p.slice(f),f+=e[1].length),m&&this.rules.other.blankLine.test(h)&&(o+=h+`
`,s=s.substring(h.length+1),c=!0),!c){const E=this.rules.other.nextBulletRegex(f),F=this.rules.other.hrRegex(f),Q=this.rules.other.fencesBeginRegex(f),se=this.rules.other.headingBeginRegex(f),W=this.rules.other.htmlBeginRegex(f);for(;s;){const L=s.split(`
`,1)[0];let B;if(h=L,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),B=h):B=h.replace(this.rules.other.tabCharGlobal,"    "),Q.test(h)||se.test(h)||W.test(h)||E.test(h)||F.test(h))break;if(B.search(this.rules.other.nonSpaceChar)>=f||!h.trim())d+=`
`+B.slice(f);else{if(m||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Q.test(p)||se.test(p)||F.test(p))break;d+=`
`+h}!m&&!h.trim()&&(m=!0),o+=L+`
`,s=s.substring(L.length+1),p=B.slice(f)}}n.loose||(i?n.loose=!0:this.rules.other.doubleBlankLine.test(o)&&(i=!0));let k=null,v;this.options.gfm&&(k=this.rules.other.listIsTask.exec(d),k&&(v=k[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),n.items.push({type:"list_item",raw:o,task:!!k,checked:v,loose:!1,text:d,tokens:[]}),n.raw+=o}const l=n.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;n.raw=n.raw.trimEnd();for(let c=0;c<n.items.length;c++)if(this.lexer.state.top=!1,n.items[c].tokens=this.lexer.blockTokens(n.items[c].text,[]),!n.loose){const o=n.items[c].tokens.filter(p=>p.type==="space"),d=o.length>0&&o.some(p=>this.rules.other.anyLine.test(p.raw));n.loose=d}if(n.loose)for(let c=0;c<n.items.length;c++)n.items[c].loose=!0;return n}}html(s){const e=this.rules.block.html.exec(s);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(s){const e=this.rules.block.def.exec(s);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:r,title:n}}}table(s){const e=this.rules.block.table.exec(s);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const t=Ve(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),n=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===r.length){for(const i of r)this.rules.other.tableAlignRight.test(i)?a.align.push("right"):this.rules.other.tableAlignCenter.test(i)?a.align.push("center"):this.rules.other.tableAlignLeft.test(i)?a.align.push("left"):a.align.push(null);for(let i=0;i<t.length;i++)a.header.push({text:t[i],tokens:this.lexer.inline(t[i]),header:!0,align:a.align[i]});for(const i of n)a.rows.push(Ve(i,a.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[c]})));return a}}lheading(s){const e=this.rules.block.lheading.exec(s);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(s){const e=this.rules.block.paragraph.exec(s);if(e){const t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(s){const e=this.rules.block.text.exec(s);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(s){const e=this.rules.inline.escape.exec(s);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(s){const e=this.rules.inline.tag.exec(s);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(s){const e=this.rules.inline.link.exec(s);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const a=X(t.slice(0,-1),"\\");if((t.length-a.length)%2===0)return}else{const a=ds(e[2],"()");if(a===-2)return;if(a>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+a;e[2]=e[2].substring(0,a),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let r=e[2],n="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(r);a&&(r=a[1],n=a[3])}else n=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?r=r.slice(1):r=r.slice(1,-1)),He(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(s,e){let t;if((t=this.rules.inline.reflink.exec(s))||(t=this.rules.inline.nolink.exec(s))){const r=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),n=e[r.toLowerCase()];if(!n){const a=t[0].charAt(0);return{type:"text",raw:a,text:a}}return He(t,n,t[0],this.lexer,this.rules)}}emStrong(s,e,t=""){let r=this.rules.inline.emStrongLDelim.exec(s);if(!r||r[3]&&t.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const a=[...r[0]].length-1;let i,l,c=a,o=0;const d=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,e=e.slice(-1*s.length+a);(r=d.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(l=[...i].length,r[3]||r[4]){c+=l;continue}else if((r[5]||r[6])&&a%3&&!((a+l)%3)){o+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+o);const p=[...r[0]][0].length,h=s.slice(0,a+r.index+p+l);if(Math.min(a,l)%2){const f=h.slice(1,-1);return{type:"em",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}const m=h.slice(2,-2);return{type:"strong",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(s){const e=this.rules.inline.code.exec(s);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(t),n=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return r&&n&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(s){const e=this.rules.inline.br.exec(s);if(e)return{type:"br",raw:e[0]}}del(s){const e=this.rules.inline.del.exec(s);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(s){const e=this.rules.inline.autolink.exec(s);if(e){let t,r;return e[2]==="@"?(t=e[1],r="mailto:"+t):(t=e[1],r=t),{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(s){let e;if(e=this.rules.inline.url.exec(s)){let t,r;if(e[2]==="@")t=e[0],r="mailto:"+t;else{let n;do n=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(n!==e[0]);t=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(s){const e=this.rules.inline.text.exec(s);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},D=class xe{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||G,this.options.tokenizer=this.options.tokenizer||new ue,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:N,block:ae.normal,inline:K.normal};this.options.pedantic?(t.block=ae.pedantic,t.inline=K.pedantic):this.options.gfm&&(t.block=ae.gfm,this.options.breaks?t.inline=K.breaks:t.inline=K.gfm),this.tokenizer.rules=t}static get rules(){return{block:ae,inline:K}}static lex(e,t){return new xe(t).lex(e)}static lexInline(e,t){return new xe(t).inlineTokens(e)}lex(e){e=e.replace(N.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){for(this.options.pedantic&&(e=e.replace(N.tabCharGlobal,"    ").replace(N.spaceLine,""));e;){let n;if(this.options.extensions?.block?.some(i=>(n=i.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))continue;if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length);const i=t.at(-1);n.raw.length===1&&i!==void 0?i.raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length);const i=t.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.at(-1).src=i.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length);const i=t.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue.at(-1).src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}let a=e;if(this.options.extensions?.startBlock){let i=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(o=>{c=o.call({lexer:this},l),typeof c=="number"&&c>=0&&(i=Math.min(i,c))}),i<1/0&&i>=0&&(a=e.substring(0,i+1))}if(this.state.top&&(n=this.tokenizer.paragraph(a))){const i=t.at(-1);r&&i?.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(n),r=a.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length);const i=t.at(-1);i?.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(n);continue}if(e){const i="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r=e,n=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,n.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let a=!1,i="";for(;e;){a||(i=""),a=!1;let l;if(this.options.extensions?.inline?.some(o=>(l=o.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const o=t.at(-1);l.type==="text"&&o?.type==="text"?(o.raw+=l.raw,o.text+=l.text):t.push(l);continue}if(l=this.tokenizer.emStrong(e,r,i)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),t.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),t.push(l);continue}let c=e;if(this.options.extensions?.startInline){let o=1/0;const d=e.slice(1);let p;this.options.extensions.startInline.forEach(h=>{p=h.call({lexer:this},d),typeof p=="number"&&p>=0&&(o=Math.min(o,p))}),o<1/0&&o>=0&&(c=e.substring(0,o+1))}if(l=this.tokenizer.inlineText(c)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(i=l.raw.slice(-1)),a=!0;const o=t.at(-1);o?.type==="text"?(o.raw+=l.raw,o.text+=l.text):t.push(l);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return t}},ce=class{options;parser;constructor(s){this.options=s||G}space(s){return""}code({text:s,lang:e,escaped:t}){const r=(e||"").match(N.notSpaceStart)?.[0],n=s.replace(N.endingNewline,"")+`
`;return r?'<pre><code class="language-'+z(r)+'">'+(t?n:z(n,!0))+`</code></pre>
`:"<pre><code>"+(t?n:z(n,!0))+`</code></pre>
`}blockquote({tokens:s}){return`<blockquote>
${this.parser.parse(s)}</blockquote>
`}html({text:s}){return s}heading({tokens:s,depth:e}){return`<h${e}>${this.parser.parseInline(s)}</h${e}>
`}hr(s){return`<hr>
`}list(s){const e=s.ordered,t=s.start;let r="";for(let i=0;i<s.items.length;i++){const l=s.items[i];r+=this.listitem(l)}const n=e?"ol":"ul",a=e&&t!==1?' start="'+t+'"':"";return"<"+n+a+`>
`+r+"</"+n+`>
`}listitem(s){let e="";if(s.task){const t=this.checkbox({checked:!!s.checked});s.loose?s.tokens[0]?.type==="paragraph"?(s.tokens[0].text=t+" "+s.tokens[0].text,s.tokens[0].tokens&&s.tokens[0].tokens.length>0&&s.tokens[0].tokens[0].type==="text"&&(s.tokens[0].tokens[0].text=t+" "+z(s.tokens[0].tokens[0].text),s.tokens[0].tokens[0].escaped=!0)):s.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):e+=t+" "}return e+=this.parser.parse(s.tokens,!!s.loose),`<li>${e}</li>
`}checkbox({checked:s}){return"<input "+(s?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:s}){return`<p>${this.parser.parseInline(s)}</p>
`}table(s){let e="",t="";for(let n=0;n<s.header.length;n++)t+=this.tablecell(s.header[n]);e+=this.tablerow({text:t});let r="";for(let n=0;n<s.rows.length;n++){const a=s.rows[n];t="";for(let i=0;i<a.length;i++)t+=this.tablecell(a[i]);r+=this.tablerow({text:t})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:s}){return`<tr>
${s}</tr>
`}tablecell(s){const e=this.parser.parseInline(s.tokens),t=s.header?"th":"td";return(s.align?`<${t} align="${s.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:s}){return`<strong>${this.parser.parseInline(s)}</strong>`}em({tokens:s}){return`<em>${this.parser.parseInline(s)}</em>`}codespan({text:s}){return`<code>${z(s,!0)}</code>`}br(s){return"<br>"}del({tokens:s}){return`<del>${this.parser.parseInline(s)}</del>`}link({href:s,title:e,tokens:t}){const r=this.parser.parseInline(t),n=qe(s);if(n===null)return r;s=n;let a='<a href="'+s+'"';return e&&(a+=' title="'+z(e)+'"'),a+=">"+r+"</a>",a}image({href:s,title:e,text:t,tokens:r}){r&&(t=this.parser.parseInline(r,this.parser.textRenderer));const n=qe(s);if(n===null)return z(t);s=n;let a=`<img src="${s}" alt="${t}"`;return e&&(a+=` title="${z(e)}"`),a+=">",a}text(s){return"tokens"in s&&s.tokens?this.parser.parseInline(s.tokens):"escaped"in s&&s.escaped?s.text:z(s.text)}},Ae=class{strong({text:s}){return s}em({text:s}){return s}codespan({text:s}){return s}del({text:s}){return s}html({text:s}){return s}text({text:s}){return s}link({text:s}){return""+s}image({text:s}){return""+s}br(){return""}},O=class ve{options;renderer;textRenderer;constructor(e){this.options=e||G,this.options.renderer=this.options.renderer||new ce,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ae}static parse(e,t){return new ve(t).parse(e)}static parseInline(e,t){return new ve(t).parseInline(e)}parse(e,t=!0){let r="";for(let n=0;n<e.length;n++){const a=e[n];if(this.options.extensions?.renderers?.[a.type]){const l=a,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){r+=c||"";continue}}const i=a;switch(i.type){case"space":{r+=this.renderer.space(i);continue}case"hr":{r+=this.renderer.hr(i);continue}case"heading":{r+=this.renderer.heading(i);continue}case"code":{r+=this.renderer.code(i);continue}case"table":{r+=this.renderer.table(i);continue}case"blockquote":{r+=this.renderer.blockquote(i);continue}case"list":{r+=this.renderer.list(i);continue}case"html":{r+=this.renderer.html(i);continue}case"paragraph":{r+=this.renderer.paragraph(i);continue}case"text":{let l=i,c=this.renderer.text(l);for(;n+1<e.length&&e[n+1].type==="text";)l=e[++n],c+=`
`+this.renderer.text(l);t?r+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):r+=c;continue}default:{const l='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}parseInline(e,t=this.renderer){let r="";for(let n=0;n<e.length;n++){const a=e[n];if(this.options.extensions?.renderers?.[a.type]){const l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=l||"";continue}}const i=a;switch(i.type){case"escape":{r+=t.text(i);break}case"html":{r+=t.html(i);break}case"link":{r+=t.link(i);break}case"image":{r+=t.image(i);break}case"strong":{r+=t.strong(i);break}case"em":{r+=t.em(i);break}case"codespan":{r+=t.codespan(i);break}case"br":{r+=t.br(i);break}case"del":{r+=t.del(i);break}case"text":{r+=t.text(i);break}default:{const l='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}},ie=class{options;block;constructor(s){this.options=s||G}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(s){return s}postprocess(s){return s}processAllTokens(s){return s}provideLexer(){return this.block?D.lex:D.lexInline}provideParser(){return this.block?O.parse:O.parseInline}},hs=class{defaults=Se();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=O;Renderer=ce;TextRenderer=Ae;Lexer=D;Tokenizer=ue;Hooks=ie;constructor(...s){this.use(...s)}walkTokens(s,e){let t=[];for(const r of s)switch(t=t.concat(e.call(this,r)),r.type){case"table":{const n=r;for(const a of n.header)t=t.concat(this.walkTokens(a.tokens,e));for(const a of n.rows)for(const i of a)t=t.concat(this.walkTokens(i.tokens,e));break}case"list":{const n=r;t=t.concat(this.walkTokens(n.items,e));break}default:{const n=r;this.defaults.extensions?.childTokens?.[n.type]?this.defaults.extensions.childTokens[n.type].forEach(a=>{const i=n[a].flat(1/0);t=t.concat(this.walkTokens(i,e))}):n.tokens&&(t=t.concat(this.walkTokens(n.tokens,e)))}}return t}use(...s){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return s.forEach(t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){const a=e.renderers[n.name];a?e.renderers[n.name]=function(...i){let l=n.renderer.apply(this,i);return l===!1&&(l=a.apply(this,i)),l}:e.renderers[n.name]=n.renderer}if("tokenizer"in n){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=e[n.level];a?a.unshift(n.tokenizer):e[n.level]=[n.tokenizer],n.start&&(n.level==="block"?e.startBlock?e.startBlock.push(n.start):e.startBlock=[n.start]:n.level==="inline"&&(e.startInline?e.startInline.push(n.start):e.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(e.childTokens[n.name]=n.childTokens)}),r.extensions=e),t.renderer){const n=this.defaults.renderer||new ce(this.defaults);for(const a in t.renderer){if(!(a in n))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const i=a,l=t.renderer[i],c=n[i];n[i]=(...o)=>{let d=l.apply(n,o);return d===!1&&(d=c.apply(n,o)),d||""}}r.renderer=n}if(t.tokenizer){const n=this.defaults.tokenizer||new ue(this.defaults);for(const a in t.tokenizer){if(!(a in n))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const i=a,l=t.tokenizer[i],c=n[i];n[i]=(...o)=>{let d=l.apply(n,o);return d===!1&&(d=c.apply(n,o)),d}}r.tokenizer=n}if(t.hooks){const n=this.defaults.hooks||new ie;for(const a in t.hooks){if(!(a in n))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const i=a,l=t.hooks[i],c=n[i];ie.passThroughHooks.has(a)?n[i]=o=>{if(this.defaults.async)return Promise.resolve(l.call(n,o)).then(p=>c.call(n,p));const d=l.call(n,o);return c.call(n,d)}:n[i]=(...o)=>{let d=l.apply(n,o);return d===!1&&(d=c.apply(n,o)),d}}r.hooks=n}if(t.walkTokens){const n=this.defaults.walkTokens,a=t.walkTokens;r.walkTokens=function(i){let l=[];return l.push(a.call(this,i)),n&&(l=l.concat(n.call(this,i))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(s){return this.defaults={...this.defaults,...s},this}lexer(s,e){return D.lex(s,e??this.defaults)}parser(s,e){return O.parse(s,e??this.defaults)}parseMarkdown(s){return(t,r)=>{const n={...r},a={...this.defaults,...n},i=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&n.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=s);const l=a.hooks?a.hooks.provideLexer():s?D.lex:D.lexInline,c=a.hooks?a.hooks.provideParser():s?O.parse:O.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(t):t).then(o=>l(o,a)).then(o=>a.hooks?a.hooks.processAllTokens(o):o).then(o=>a.walkTokens?Promise.all(this.walkTokens(o,a.walkTokens)).then(()=>o):o).then(o=>c(o,a)).then(o=>a.hooks?a.hooks.postprocess(o):o).catch(i);try{a.hooks&&(t=a.hooks.preprocess(t));let o=l(t,a);a.hooks&&(o=a.hooks.processAllTokens(o)),a.walkTokens&&this.walkTokens(o,a.walkTokens);let d=c(o,a);return a.hooks&&(d=a.hooks.postprocess(d)),d}catch(o){return i(o)}}}onError(s,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,s){const r="<p>An error occurred:</p><pre>"+z(t.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(t);throw t}}},Z=new hs;function $(s,e){return Z.parse(s,e)}$.options=$.setOptions=function(s){return Z.setOptions(s),$.defaults=Z.defaults,Ke($.defaults),$};$.getDefaults=Se;$.defaults=G;$.use=function(...s){return Z.use(...s),$.defaults=Z.defaults,Ke($.defaults),$};$.walkTokens=function(s,e){return Z.walkTokens(s,e)};$.parseInline=Z.parseInline;$.Parser=O;$.parser=O.parse;$.Renderer=ce;$.TextRenderer=Ae;$.Lexer=D;$.lexer=D.lex;$.Tokenizer=ue;$.Hooks=ie;$.parse=$;$.options;$.setOptions;$.use;$.walkTokens;$.parseInline;O.parse;D.lex;const fs=["innerHTML"],gs={key:1,class:"tw-italic"},ms={class:"tw-mb-1.5"},ws=["innerHTML"],bs={key:1,class:"tw-italic"},ks={key:4},xs={key:5},vs=U({__name:"RuntimeOptionsCard",setup(s){function e(c){const o=360/c.length,d={};for(let p=0;p<c.length;p++){const h=c[p];if(p===0)d[h.name]="rgba(0, 0, 0, 0.15)";else{const m=Math.round(30+p*o)%360;d[h.name]=`hsl(${m}, 60%, 85%)`}}return d}function t(c){return Object.assign({},...c.map(o=>({[o.name]:o.description})))}const{data:r}=P(Qe()),n=A(()=>{if(r.value){let c=wt(r.value.options);c=c.sort((d,p)=>{const h=d.name.toUpperCase(),m=p.name.toUpperCase();return h<m?-1:h>m?1:0});const o=d=>{delete d.$type,Object.entries(d).forEach(p=>{p[1]!==null&&typeof p[1]=="object"&&o(p[1])})};return Object.entries(c).forEach(d=>{o(d[1].values)}),c}return null}),a=A(()=>e(r.value.allSources));A(()=>t(r.value.allSources));function i(c){return c.charAt(0).toUpperCase()+c.slice(1)}function l(c){const o=$.parseInline(c);if(typeof o=="string")return o;o.then(d=>d).catch(d=>{console.error(d)})}return(c,o)=>(w(),y(M,null,[(w(!0),y(M,null,q(n.value,d=>(w(),T(g(Lt),{class:"tw-mb-4",key:d.name,title:d.name.replace(/([a-z])([A-Z])/g,"$1 $2"),badge:Object.keys(d.values).length,"data-testid":"runtime-option-collapse-header"},{"header-right":b(()=>[_(g(j),null,{default:b(()=>[C(x(d.isStatic?"Static":"Dynamic"),1)],void 0,!0),_:2},1024)]),subtitle:b(()=>[d.description?(w(),y("span",{key:0,innerHTML:l(d.description)},null,8,fs)):(w(),y("span",gs,"No description available."))]),default:b(()=>[_(g(kt),null,{default:b(()=>[(w(!0),y(M,null,q(d.values,(p,h)=>(w(),T(g(le),{class:"tw-px-4",key:h,striped:""},{"top-right":b(()=>[u("span",null,x(d.sources[i(h)]),1)]),"bottom-left":b(()=>[u("div",ms,[d.descriptions[i(h)]?(w(),y("span",{key:0,innerHTML:l(d.descriptions[i(h)])},null,8,ws)):(w(),y("span",bs,"No description available."))]),p===null?(w(),T(g(j),{key:0,size:"large"},{default:b(()=>o[0]||(o[0]=[C("null",-1)]),void 0,!0),_:1,__:[0]})):R("",!0),p===""?(w(),T(g(j),{key:1,size:"large"},{default:b(()=>o[1]||(o[1]=[C("empty string",-1)]),void 0,!0),_:1,__:[1]})):p===!0?(w(),T(g(j),{key:2,variant:"success",size:"large"},{default:b(()=>o[2]||(o[2]=[C("true",-1)]),void 0,!0),_:1,__:[2]})):p===!1?(w(),T(g(j),{key:3,variant:"danger",size:"large"},{default:b(()=>o[3]||(o[3]=[C("false",-1)]),void 0,!0),_:1,__:[3]})):Array.isArray(p)||typeof p=="object"?(w(),y("pre",ks,x(p),1)):(w(),y("span",xs,x(p),1))]),default:b(()=>[u("span",{class:"tw-rounded tw-px-1.5 tw-py-0.5 tw-text-xs tw-text-neutral-700",style:bt(`background: ${a.value[d.sources[i(h)]]||"lightgrey"}`)},x(i(h)),5)],void 0,!0),_:2},1024))),128))],void 0,!0),_:2},1024)],void 0,!0),_:2},1032,["title","badge"]))),128)),_(g(be),{data:n.value,label:"runtimeOptions"},null,8,["data"])],64))}}),ys={class:"tw-mb-4 tw-mt-2 tw-text-xs tw-text-neutral-500"},_s={class:"tw-mb-1 tw-font-semibold"},Ss={class:"tw-w-full"},$s={class:"tw-divide-y tw-divide-neutral-200 tw-border-t tw-border-neutral-200 *:*:tw-py-1"},Ts={class:"tw-text-right"},Cs={class:"tw-text-right"},Rs={class:"tw-text-right"},Is={class:"tw-text-right"},Ns={key:0},Ls={key:1},or=U({__name:"EnvironmentView",setup(s){const e=xt(),{data:t,error:r}=P(vt()),{data:n,error:a}=P(yt()),{data:i,error:l}=P(_e()),{data:c,error:o}=P(ye()),{data:d,error:p}=P(Qe()),h=[{label:"Actors"},{label:"Servers"},{label:"Database",permission:"api.database.status"},{label:"Runtime Options",permission:"api.runtime_options.view"}],m=A(()=>d.value?.options?.find(f=>f.name==="Deployment")?.values?.chartVersion??"Null");return(f,k)=>{const v=Y("fa-icon");return w(),T(g(It),{permission:"dashboard.environment.view","full-width":""},{overview:b(()=>[_(g(Rt),{title:"Environment Details"},{default:b(()=>[k[9]||(k[9]=u("p",null,"Overview of the current environment this game server is running in.",-1)),u("p",ys,[k[1]||(k[1]=C("Easiest way to configure your game servers to act differently in different environments is through the runtime options system. Please have a look at the ",-1)),_(g(ge),{to:"https://docs.metaplay.io/game-server-programming/how-to-guides/working-with-runtime-options.html"},{default:b(()=>k[0]||(k[0]=[C("runtime options documentation",-1)]),void 0,!0),_:1,__:[0]}),k[2]||(k[2]=C(" to get started.",-1))]),u("div",_s,[_(v,{class:"tw-mr-1",icon:"chart-bar"}),k[3]||(k[3]=u("span",null,"Overview",-1))]),u("table",Ss,[u("tbody",$s,[u("tr",null,[k[4]||(k[4]=u("td",null,"Environment Name",-1)),u("td",Ts,x(g(e).projectInfo.projectName),1)]),u("tr",null,[k[5]||(k[5]=u("td",null,"Environment Type",-1)),u("td",Cs,x(g(e).environmentInfo.environmentFamily),1)]),u("tr",null,[k[6]||(k[6]=u("td",null,"Chart Version",-1)),u("td",{class:I(["tw-text-right",{"tw-italic tw-text-neutral-500":m.value==="Null"}])},x(m.value==="Null"?"Not available":m.value),3)]),u("tr",null,[k[7]||(k[7]=u("td",null,"Maintenance Mode",-1)),u("td",Rs,[_(g(j),{variant:g(t)?.maintenanceStatus.isInMaintenance?"warning":"neutral"},{default:b(()=>[C(x(g(t)?.maintenanceStatus.isInMaintenance?"On":"Off"),1)],void 0,!0),_:1},8,["variant"])])]),u("tr",null,[k[8]||(k[8]=u("td",null,"Total Players in Database",-1)),u("td",Is,[g(n)?(w(),y("span",Ns,x(g(n).totalItemCounts.Players),1)):(w(),y("span",Ls,"Not available"))])])])])],void 0,!0),_:1,__:[9]})]),default:b(()=>[_(g(Tt),{tabs:h},{"tab-0":b(()=>[_($t,{"metric-id":"liveActors","presentation-format":"2days-in-hours","link-mode":"detail-view",compact:!1})]),"tab-1":b(()=>[_(g(Me),{class:"tw-mb-4"},{default:b(()=>[g(l)?(w(),T(g(re),{key:0,class:"tw-mb-3",title:"Cluster Error",error:g(l)},null,8,["error"])):R("",!0),g(l)?(w(),T(g(re),{key:1,class:"tw-mb-3",title:"Load Tracking Error",error:g(l)},null,8,["error"])):(w(),T(Ln,{key:2})),_(g(be),{data:g(i),label:"clusterData"},null,8,["data"])],void 0,!0),_:1})]),"tab-2":b(()=>[g(o)?(w(),T(g(re),{key:0,title:"Database Error",error:g(o)},null,8,["error"])):(w(),T(g(Ct),{key:1,class:"tw-mb-4"},{default:b(()=>[_(Ht),_(jt)],void 0,!0),_:1})),_(g(be),{data:g(c),label:"databaseStatusData"},null,8,["data"])]),"tab-3":b(()=>[_(g(Me),null,{default:b(()=>[g(p)?(w(),T(g(re),{key:0,title:"Runtime Options Error",error:g(p)},null,8,["error"])):(w(),T(vs,{key:1}))],void 0,!0),_:1})]),_:1})]),_:1})}}});export{or as default};
